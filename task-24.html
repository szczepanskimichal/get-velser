<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magic 8 Ball</title>
    <style>
      .ball8 {
        height: 500px;
        width: 500px;
        border-radius: 50%;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .whiteCircle {
        background-color: white;
        height: 200px;
        width: 200px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: inset 0 0 10px black;
        cursor: pointer;
      }

      .font {
        font-size: 30px;
        font-weight: bold;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div id="app"></div>
    <script>
      // Model
      let svar = [
        "JAAA",
        "Prøv igjen senere",
        "Nei",
        "Usikker",
        "Spør i MVC",
        "Terje sier: NEI",
        "Positiv til det",
        "Visst pokker",
        "Det ser lyst ut",
        "Jo",
        "Sannsynligvis",
        "JAHM",
      ];
      let answer = "8";
      let classFont = "font";
      let lastAnswer = "";

      // View
      function show() {
        let html = `
          <div class="ball8">
            <div class="whiteCircle" onclick="getRandomAnswer()">
              <div class="${classFont}">
                ${answer}
              </div>
            </div>
          </div>`;
        document.getElementById("app").innerHTML = html;
      }

      // Controller
      function getRandomAnswer() {
        let randomIndex;
        let svarTxt;

        do {
          randomIndex = Math.floor(Math.random() * svar.length);
          svarTxt = svar[randomIndex];
        } while (svarTxt === lastAnswer && svar.length > 1);

        lastAnswer = svarTxt;
        classFont = "";
        answer = svarTxt;
        svar.splice(randomIndex, 1);
        show();
      }

      // Initial call to set fields
      show();
    </script>
  </body>
</html>
